import json
import pathlib

def create_new_account(username, password) -> dict:
    return {
        "username": username,
        "password": password        

    }


def display_account(account):
    print(f"Username:{account['username']}, Password:{account['password']}")

def main():
    file_path = pathlib.Path("./data/account.json")
    if not file_path.exists():
        with open (file_path, "w") as file:
            data = []
            json.dump(data, file)
    with open(file_path, "r") as file:
        data = json.load(file)
        for account in data:
            display_account(account)

    new_account = input("Do you wish to create a new account? (y/n)")
    while new_account == "y":
        username = input("Enter username: ")
        password = input("Enter password: ")
        new = create_new_account(username, password)
        data.append(new)
        new_account = input("Do you wish to create a new account? ")

    with open(file_path, "w") as file:
        json.dump(data, file)

if __name__ == "__main__":
    main()
